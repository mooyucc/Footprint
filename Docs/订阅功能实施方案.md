# Footprint è®¢é˜…åŠŸèƒ½å®æ–½æ–¹æ¡ˆ

## ğŸ“‹ ç›®å½•

1. [åŠŸèƒ½è§„åˆ’](#åŠŸèƒ½è§„åˆ’)
2. [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
3. [ä»£ç ç»“æ„è®¾è®¡](#ä»£ç ç»“æ„è®¾è®¡)
4. [UI/UXè®¾è®¡](#uiuxè®¾è®¡)
5. [é›†æˆæ­¥éª¤](#é›†æˆæ­¥éª¤)
6. [æµ‹è¯•æ¸…å•](#æµ‹è¯•æ¸…å•)
7. [å‘å¸ƒå‡†å¤‡](#å‘å¸ƒå‡†å¤‡)

---

## ä¸€ã€åŠŸèƒ½è§„åˆ’

### 1.1 è®¢é˜…å±‚çº§è®¾è®¡

#### æ–¹æ¡ˆAï¼šå•ä¸€è®¢é˜…ï¼ˆæ¨èï¼‰
- **å…è´¹ç‰ˆï¼ˆFreeï¼‰**
  - âœ… åŸºç¡€åŠŸèƒ½ï¼šæ·»åŠ ç›®çš„åœ°ã€æŸ¥çœ‹åœ°å›¾ã€åŸºæœ¬ç»Ÿè®¡
  - âœ… é™åˆ¶ï¼šæœ€å¤š 50 ä¸ªç›®çš„åœ°
  - âœ… é™åˆ¶ï¼šæœ€å¤š5ä¸ªæ—…ç¨‹å¡ç‰‡
  - âœ… é™åˆ¶ï¼šä»…æ—…ç¨‹åˆ†äº«å›¾ç‰‡åŸºç¡€ç‰ˆé¢
  - âœ… é™åˆ¶ï¼šæ— æ—…ç¨‹å¯¼å…¥åŠŸèƒ½
  - âœ… é™åˆ¶ï¼šæ— æ—…ç¨‹é“¾æ¥ç³»ç»Ÿåœ°å›¾åº”ç”¨åŠŸèƒ½ï¼ˆæš‚æ—¶ä¸æ‹¦æˆªï¼‰
  - âœ… é™åˆ¶ï¼šæ— æœ¬åœ°æ•°æ®å¯¼å…¥ã€å¯¼å‡ºåŠŸèƒ½
  

- **Pro è®¢é˜…ï¼ˆProï¼‰**
  - âœ… æ— é™ç›®çš„åœ°
  - âœ… æ— é™æ—…ç¨‹å¡ç‰‡
  - âœ… å®Œæ•´æ—…ç¨‹æ•°æ®ç®¡ç†åŠŸèƒ½
  - âœ… å®Œæ•´æ—…ç¨‹åˆ†äº«åŠŸèƒ½
  - âœ… å®Œæ•´æœ¬åœ°æ•°æ®ç®¡ç†åŠŸèƒ½
  - ğŸ’° ä»·æ ¼ï¼šÂ¥8/æœˆ æˆ– Â¥76/å¹´ï¼ˆçº¦çœ 20%ï¼‰

#### æ–¹æ¡ˆBï¼šå¤šå±‚çº§è®¢é˜…ï¼ˆå¯é€‰ï¼‰
- **å…è´¹ç‰ˆ** + **åŸºç¡€è®¢é˜…**ï¼ˆÂ¥8/æœˆï¼‰+ **Proè®¢é˜…**ï¼ˆÂ¥18/æœˆï¼‰

**å»ºè®®ï¼šå…ˆé‡‡ç”¨æ–¹æ¡ˆAï¼Œç®€å•æ¸…æ™°ï¼Œåç»­å¯æ ¹æ®ç”¨æˆ·åé¦ˆè°ƒæ•´**

### 1.2 åŠŸèƒ½æƒé™çŸ©é˜µ

| åŠŸèƒ½ | å…è´¹ç‰ˆ | Pro |
|------|--------|-----|
| æ·»åŠ ç›®çš„åœ° | âœ…ï¼ˆé™50ä¸ªï¼‰ | âœ…ï¼ˆæ— é™ï¼‰ |
| æ—…ç¨‹å¡ç‰‡ | âœ…ï¼ˆé™5ä¸ªï¼‰ | âœ…ï¼ˆæ— é™ï¼‰ |
| æŸ¥çœ‹åœ°å›¾ | âœ… | âœ… |
| åŸºæœ¬ç»Ÿè®¡ | âœ… | âœ… |
| æ—…ç¨‹å¯¼å…¥ | âŒ | âœ… |
| æ—…ç¨‹é“¾æ¥ç³»ç»Ÿåœ°å›¾ | âŒ | âœ… |
| æ—…ç¨‹åˆ†äº«å›¾ç‰‡ | âœ…ï¼ˆéƒ¨åˆ†ç‰ˆé¢ï¼‰ | âœ…ï¼ˆå®Œæ•´ç‰ˆé¢ï¼‰ |
| æœ¬åœ°æ•°æ®å¯¼å…¥/å¯¼å‡º | âŒ | âœ… |

### 1.3 è®¢é˜…äº§å“IDè®¾è®¡

```swift
enum SubscriptionProductID {
    // æœˆåº¦è®¢é˜…
    static let proMonthly = "com.mooyu.footprint.pro.monthly"
    
    // å¹´åº¦è®¢é˜…
    static let proYearly = "com.mooyu.footprint.pro.yearly"
    
    // æ‰€æœ‰äº§å“IDæ•°ç»„ï¼ˆç”¨äºæ‰¹é‡åŠ è½½ï¼‰
    static let all: [String] = [proMonthly, proYearly]
}
```

---

## äºŒã€æŠ€æœ¯æ¶æ„

### 2.1 StoreKit 2 æ¶æ„

```
FootprintApp
  â””â”€â”€ PurchaseManager (å•ä¾‹)
      â”œâ”€â”€ åŠ è½½äº§å“ä¿¡æ¯
      â”œâ”€â”€ å¤„ç†è´­ä¹°æµç¨‹
      â”œâ”€â”€ ç›‘å¬äº¤æ˜“æ›´æ–°
      â””â”€â”€ éªŒè¯è®¢é˜…çŠ¶æ€
  â””â”€â”€ EntitlementManager (å•ä¾‹)
      â”œâ”€â”€ å½“å‰è®¢é˜…çŠ¶æ€
      â”œâ”€â”€ åŠŸèƒ½æƒé™æ£€æŸ¥
      â””â”€â”€ è®¢é˜…åˆ°æœŸæé†’
```

### 2.2 æ•°æ®æµ

```
ç”¨æˆ·æ“ä½œ
  â†“
PurchaseManager.purchase(product)
  â†“
StoreKit 2 å¤„ç†
  â†“
Transaction.updates ç›‘å¬
  â†“
éªŒè¯äº¤æ˜“
  â†“
æ›´æ–° EntitlementManager
  â†“
UI è‡ªåŠ¨åˆ·æ–°ï¼ˆ@Publishedï¼‰
```

### 2.3 ä¸ç°æœ‰æ¶æ„é›†æˆ

- **éµå¾ªç°æœ‰æ¨¡å¼**ï¼šä½¿ç”¨å•ä¾‹ `shared`ï¼Œç±»ä¼¼ `AppleSignInManager`
- **ç¯å¢ƒå¯¹è±¡æ³¨å…¥**ï¼šé€šè¿‡ `.environmentObject()` æ³¨å…¥åˆ°è§†å›¾æ ‘
- **çŠ¶æ€ç®¡ç†**ï¼šä½¿ç”¨ `@Published` å’Œ `ObservableObject`
- **æŒä¹…åŒ–**ï¼šè®¢é˜…çŠ¶æ€ä¿å­˜åœ¨ `UserDefaults`ï¼ˆStoreKit 2 ä¼šè‡ªåŠ¨ç®¡ç†ï¼‰

---

## ä¸‰ã€ä»£ç ç»“æ„è®¾è®¡

### 3.1 æ–‡ä»¶ç»“æ„

```
Footprint/
â”œâ”€â”€ Models/
â”‚   â””â”€â”€ SubscriptionEntitlement.swift      # æƒç›Šæšä¸¾
â”œâ”€â”€ Helpers/
â”‚   â”œâ”€â”€ PurchaseManager.swift              # è´­ä¹°ç®¡ç†å™¨
â”‚   â””â”€â”€ EntitlementManager.swift           # æƒç›Šç®¡ç†å™¨
â””â”€â”€ Views/
    â”œâ”€â”€ PaywallView.swift                  # ä»˜è´¹å¢™è§†å›¾
    â”œâ”€â”€ SubscriptionStatusView.swift       # è®¢é˜…çŠ¶æ€è§†å›¾
    â””â”€â”€ Components/
        â”œâ”€â”€ SubscriptionCard.swift          # è®¢é˜…å¡ç‰‡ç»„ä»¶
        â””â”€â”€ FeatureListRow.swift           # åŠŸèƒ½åˆ—è¡¨è¡Œ
```

### 3.2 æ ¸å¿ƒç±»è®¾è®¡

#### 3.2.1 SubscriptionEntitlementï¼ˆæƒç›Šæšä¸¾ï¼‰

```swift
enum SubscriptionEntitlement: String, Codable {
    case free = "free"
    case pro = "pro"
    
    var displayName: String {
        switch self {
        case .free: return "å…è´¹ç‰ˆ"
        case .pro: return "Pro"
        }
    }
    
    // åŠŸèƒ½æƒé™æ£€æŸ¥æ–¹æ³•
    func canAddUnlimitedDestinations() -> Bool {
        return self == .pro
    }
    
    func canUseiCloudSync() -> Bool {
        return self == .pro
    }
    
    func canExportData() -> Bool {
        return self == .pro
    }
    
    // ... å…¶ä»–æƒé™æ£€æŸ¥
}
```

#### 3.2.2 PurchaseManagerï¼ˆè´­ä¹°ç®¡ç†å™¨ï¼‰

```swift
import StoreKit
import Combine

@MainActor
class PurchaseManager: ObservableObject {
    static let shared = PurchaseManager()
    
    @Published var products: [Product] = []
    @Published var purchasedProductIDs: Set<String> = []
    @Published var isLoading = false
    @Published var errorMessage: String?
    
    private var updateListenerTask: Task<Void, Error>?
    
    init() {
        // å¯åŠ¨äº¤æ˜“æ›´æ–°ç›‘å¬
        updateListenerTask = listenForTransactions()
        
        // åŠ è½½äº§å“ä¿¡æ¯
        Task {
            await loadProducts()
            await updatePurchasedProducts()
        }
    }
    
    // åŠ è½½äº§å“ä¿¡æ¯
    func loadProducts() async {
        isLoading = true
        defer { isLoading = false }
        
        do {
            products = try await Product.products(for: SubscriptionProductID.all)
            products.sort { $0.price < $1.price }
        } catch {
            errorMessage = "åŠ è½½äº§å“å¤±è´¥: \(error.localizedDescription)"
        }
    }
    
    // è´­ä¹°äº§å“
    func purchase(_ product: Product) async throws -> Transaction? {
        let result = try await product.purchase()
        
        switch result {
        case .success(let verification):
            let transaction = try checkVerified(verification)
            await transaction.finish()
            await updatePurchasedProducts()
            return transaction
        case .userCancelled:
            throw PurchaseError.userCancelled
        case .pending:
            throw PurchaseError.pending
        @unknown default:
            throw PurchaseError.unknown
        }
    }
    
    // æ¢å¤è´­ä¹°
    func restorePurchases() async throws {
        try await AppStore.sync()
        await updatePurchasedProducts()
    }
    
    // ç›‘å¬äº¤æ˜“æ›´æ–°
    private func listenForTransactions() -> Task<Void, Error> {
        return Task.detached {
            for await result in Transaction.updates {
                do {
                    let transaction = try self.checkVerified(result)
                    await transaction.finish()
                    await self.updatePurchasedProducts()
                } catch {
                    print("äº¤æ˜“éªŒè¯å¤±è´¥: \(error)")
                }
            }
        }
    }
    
    // æ›´æ–°å·²è´­ä¹°äº§å“
    private func updatePurchasedProducts() async {
        var purchasedIDs: Set<String> = []
        
        for await result in Transaction.currentEntitlements {
            do {
                let transaction = try checkVerified(result)
                if transaction.productType == .autoRenewableSubscription {
                    purchasedIDs.insert(transaction.productID)
                }
            } catch {
                print("æ›´æ–°å·²è´­ä¹°äº§å“å¤±è´¥: \(error)")
            }
        }
        
        await MainActor.run {
            self.purchasedProductIDs = purchasedIDs
        }
    }
    
    // éªŒè¯äº¤æ˜“
    private func checkVerified<T>(_ result: VerificationResult<T>) throws -> T {
        switch result {
        case .unverified:
            throw PurchaseError.unverified
        case .verified(let safe):
            return safe
        }
    }
    
    deinit {
        updateListenerTask?.cancel()
    }
}

enum PurchaseError: LocalizedError {
    case userCancelled
    case pending
    case unverified
    case unknown
    
    var errorDescription: String? {
        switch self {
        case .userCancelled:
            return "ç”¨æˆ·å–æ¶ˆäº†è´­ä¹°"
        case .pending:
            return "è´­ä¹°å¾…å¤„ç†"
        case .unverified:
            return "äº¤æ˜“éªŒè¯å¤±è´¥"
        case .unknown:
            return "æœªçŸ¥é”™è¯¯"
        }
    }
}
```

#### 3.2.3 EntitlementManagerï¼ˆæƒç›Šç®¡ç†å™¨ï¼‰

```swift
import StoreKit
import Combine

@MainActor
class EntitlementManager: ObservableObject {
    static let shared = EntitlementManager()
    
    @Published var currentEntitlement: SubscriptionEntitlement = .free
    @Published var subscriptionExpiryDate: Date?
    @Published var isSubscriptionActive: Bool = false
    
    private let purchaseManager = PurchaseManager.shared
    private var cancellables = Set<AnyCancellable>()
    
    init() {
        // ç›‘å¬è´­ä¹°çŠ¶æ€å˜åŒ–
        purchaseManager.$purchasedProductIDs
            .receive(on: DispatchQueue.main)
            .sink { [weak self] _ in
                self?.updateEntitlement()
            }
            .store(in: &cancellables)
        
        // åˆå§‹æ›´æ–°
        updateEntitlement()
    }
    
    // æ›´æ–°æƒç›ŠçŠ¶æ€
    func updateEntitlement() {
        Task {
            // æ£€æŸ¥æ˜¯å¦æœ‰æœ‰æ•ˆçš„ Pro è®¢é˜…
            let hasProSubscription = await checkProSubscription()
            
            await MainActor.run {
                if hasProSubscription {
                    self.currentEntitlement = .pro
                    self.isSubscriptionActive = true
                } else {
                    self.currentEntitlement = .free
                    self.isSubscriptionActive = false
                }
                
                // æ›´æ–°åˆ°æœŸæ—¥æœŸ
                Task {
                    await self.updateExpiryDate()
                }
            }
        }
    }
    
    // æ£€æŸ¥ Pro è®¢é˜…çŠ¶æ€
    private func checkProSubscription() async -> Bool {
        for await result in Transaction.currentEntitlements {
            do {
                let transaction = try checkVerified(result)
                if transaction.productType == .autoRenewableSubscription {
                    let productID = transaction.productID
                    if productID == SubscriptionProductID.proMonthly ||
                       productID == SubscriptionProductID.proYearly {
                        return true
                    }
                }
            } catch {
                continue
            }
        }
        return false
    }
    
    // æ›´æ–°åˆ°æœŸæ—¥æœŸ
    private func updateExpiryDate() async {
        var latestExpiryDate: Date?
        
        for await result in Transaction.currentEntitlements {
            do {
                let transaction = try checkVerified(result)
                if transaction.productType == .autoRenewableSubscription {
                    let productID = transaction.productID
                    if productID == SubscriptionProductID.proMonthly ||
                       productID == SubscriptionProductID.proYearly {
                        if let expiryDate = transaction.expirationDate,
                           latestExpiryDate == nil || expiryDate > latestExpiryDate! {
                            latestExpiryDate = expiryDate
                        }
                    }
                }
            } catch {
                continue
            }
        }
        
        await MainActor.run {
            self.subscriptionExpiryDate = latestExpiryDate
        }
    }
    
    // éªŒè¯äº¤æ˜“
    private func checkVerified<T>(_ result: VerificationResult<T>) throws -> T {
        switch result {
        case .unverified:
            throw PurchaseError.unverified
        case .verified(let safe):
            return safe
        }
    }
    
    // åŠŸèƒ½æƒé™æ£€æŸ¥ï¼ˆä¾¿æ·æ–¹æ³•ï¼‰
    func canAddUnlimitedDestinations() -> Bool {
        return currentEntitlement.canAddUnlimitedDestinations()
    }
    
    func canUseiCloudSync() -> Bool {
        return currentEntitlement.canUseiCloudSync()
    }
    
    func canExportData() -> Bool {
        return currentEntitlement.canExportData()
    }
    
    // æ£€æŸ¥æ˜¯å¦è¾¾åˆ°å…è´¹ç‰ˆé™åˆ¶
    func checkDestinationLimit(currentCount: Int) -> Bool {
        if currentEntitlement == .pro {
            return true // Pro ç”¨æˆ·æ— é™åˆ¶
        }
        return currentCount < 50 // å…è´¹ç‰ˆé™åˆ¶ 50 ä¸ª
    }
}
```

---

## å››ã€UI/UXè®¾è®¡

### 4.1 PaywallViewï¼ˆä»˜è´¹å¢™è§†å›¾ï¼‰

**è®¾è®¡åŸåˆ™**ï¼š
- æ¸…æ™°çš„ä»·å€¼ä¸»å¼ 
- çªå‡º Pro åŠŸèƒ½ä¼˜åŠ¿
- ç®€æ´çš„è´­ä¹°æµç¨‹
- ç¬¦åˆ iOS HIG è®¾è®¡è§„èŒƒ

**å¸ƒå±€ç»“æ„**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Hero Section          â”‚
â”‚   (å›¾æ ‡ + æ ‡é¢˜)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Feature List          â”‚
â”‚   (åŠŸèƒ½åˆ—è¡¨)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Subscription Cards    â”‚
â”‚   (æœˆä»˜/å¹´ä»˜é€‰æ‹©)        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Purchase Button       â”‚
â”‚   (è´­ä¹°æŒ‰é’®)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Restore Button        â”‚
â”‚   (æ¢å¤è´­ä¹°)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Terms & Privacy       â”‚
â”‚   (æ¡æ¬¾é“¾æ¥)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 å…³é”®UIç»„ä»¶

#### SubscriptionCardï¼ˆè®¢é˜…å¡ç‰‡ï¼‰
- æ˜¾ç¤ºä»·æ ¼å’Œå‘¨æœŸ
- çªå‡ºæ¨èé€‰é¡¹ï¼ˆå¹´ä»˜ï¼‰
- æ˜¾ç¤ºèŠ‚çœé‡‘é¢
- iOS 26+ ä½¿ç”¨ `glassEffect`ï¼Œæ—§ç‰ˆä½¿ç”¨ `Material`

#### FeatureListRowï¼ˆåŠŸèƒ½åˆ—è¡¨è¡Œï¼‰
- SF Symbols å›¾æ ‡
- åŠŸèƒ½æè¿°æ–‡å­—
- æ¸…æ™°çš„è§†è§‰å±‚æ¬¡

### 4.3 é›†æˆç‚¹

1. **ProfileView**ï¼šæ·»åŠ "å‡çº§åˆ° Pro"æŒ‰é’®
2. **åŠŸèƒ½é™åˆ¶æç¤º**ï¼šå½“è¾¾åˆ°å…è´¹ç‰ˆé™åˆ¶æ—¶æ˜¾ç¤º Paywall
3. **è®¾ç½®é¡µé¢**ï¼šæ˜¾ç¤ºè®¢é˜…çŠ¶æ€å’Œç®¡ç†å…¥å£

---

## äº”ã€é›†æˆæ­¥éª¤

### 5.1 é˜¶æ®µä¸€ï¼šåŸºç¡€æ¶æ„ï¼ˆ1-2å¤©ï¼‰

1. âœ… åˆ›å»º `SubscriptionEntitlement.swift`
2. âœ… åˆ›å»º `PurchaseManager.swift`
3. âœ… åˆ›å»º `EntitlementManager.swift`
4. âœ… åœ¨ `FootprintApp.swift` ä¸­åˆå§‹åŒ–å¹¶æ³¨å…¥ç¯å¢ƒå¯¹è±¡

```swift
// FootprintApp.swift
@StateObject private var purchaseManager = PurchaseManager.shared
@StateObject private var entitlementManager = EntitlementManager.shared

// æ³¨å…¥åˆ°ç¯å¢ƒ
.environmentObject(purchaseManager)
.environmentObject(entitlementManager)
```

### 5.2 é˜¶æ®µäºŒï¼šUIå¼€å‘ï¼ˆ2-3å¤©ï¼‰

1. âœ… åˆ›å»º `PaywallView.swift`
2. âœ… åˆ›å»º `SubscriptionStatusView.swift`
3. âœ… åˆ›å»ºç»„ä»¶ï¼š`SubscriptionCard.swift`ã€`FeatureListRow.swift`
4. âœ… æ·»åŠ æœ¬åœ°åŒ–å­—ç¬¦ä¸²

### 5.3 é˜¶æ®µä¸‰ï¼šåŠŸèƒ½é›†æˆï¼ˆ2-3å¤©ï¼‰

1. âœ… åœ¨ `ProfileView` æ·»åŠ è®¢é˜…å…¥å£
2. âœ… åœ¨åŠŸèƒ½é™åˆ¶å¤„æ·»åŠ  Paywall è§¦å‘
3. âœ… å®ç°ç›®çš„åœ°æ•°é‡é™åˆ¶æ£€æŸ¥
4. âœ… å®ç° iCloud åŒæ­¥æƒé™æ£€æŸ¥

### 5.4 é˜¶æ®µå››ï¼šApp Store Connect é…ç½®ï¼ˆ1å¤©ï¼‰

1. âœ… åˆ›å»ºè®¢é˜…äº§å“ï¼ˆæœˆåº¦/å¹´åº¦ï¼‰
2. âœ… é…ç½®ä»·æ ¼å’Œæœ¬åœ°åŒ–
3. âœ… è®¾ç½®è®¢é˜…ç»„
4. âœ… é…ç½®è®¢é˜…æ¡æ¬¾å’Œéšç§æ”¿ç­–é“¾æ¥

### 5.5 é˜¶æ®µäº”ï¼šæµ‹è¯•ï¼ˆ2-3å¤©ï¼‰

1. âœ… Sandbox ç¯å¢ƒæµ‹è¯•
2. âœ… TestFlight æµ‹è¯•
3. âœ… å„ç§åœºæ™¯æµ‹è¯•ï¼ˆè§æµ‹è¯•æ¸…å•ï¼‰

---

## å…­ã€æµ‹è¯•æ¸…å•

### 6.1 è´­ä¹°æµç¨‹æµ‹è¯•

- [ ] æ–°ç”¨æˆ·é¦–æ¬¡è´­ä¹°æœˆåº¦è®¢é˜…
- [ ] æ–°ç”¨æˆ·é¦–æ¬¡è´­ä¹°å¹´åº¦è®¢é˜…
- [ ] ç”¨æˆ·å–æ¶ˆè´­ä¹°æµç¨‹
- [ ] è´­ä¹°è¿‡ç¨‹ä¸­ç½‘ç»œä¸­æ–­
- [ ] è´­ä¹°æˆåŠŸåæƒç›Šç«‹å³ç”Ÿæ•ˆ
- [ ] è´­ä¹°å¤±è´¥çš„é”™è¯¯æç¤º

### 6.2 è®¢é˜…ç®¡ç†æµ‹è¯•

- [ ] æ¢å¤è´­ä¹°åŠŸèƒ½
- [ ] æŸ¥çœ‹è®¢é˜…çŠ¶æ€
- [ ] è®¢é˜…åˆ°æœŸåçš„é™çº§å¤„ç†
- [ ] è®¢é˜…ç»­è´¹æµç¨‹
- [ ] å–æ¶ˆè®¢é˜…åçš„åŠŸèƒ½é™åˆ¶

### 6.3 åŠŸèƒ½é™åˆ¶æµ‹è¯•

- [ ] å…è´¹ç‰ˆæ·»åŠ ç¬¬ 51 ä¸ªç›®çš„åœ°æ—¶æç¤º
- [ ] Pro ç”¨æˆ·æ— é™åˆ¶æ·»åŠ ç›®çš„åœ°
- [ ] iCloud åŒæ­¥æƒé™æ£€æŸ¥
- [ ] æ•°æ®å¯¼å‡ºæƒé™æ£€æŸ¥
- [ ] é«˜çº§ç»Ÿè®¡åŠŸèƒ½æƒé™æ£€æŸ¥

### 6.4 è¾¹ç•Œæƒ…å†µæµ‹è¯•

- [ ] æ— ç½‘ç»œç¯å¢ƒä¸‹çš„å¤„ç†
- [ ] StoreKit æœåŠ¡ä¸å¯ç”¨
- [ ] è®¢é˜…çŠ¶æ€åŒæ­¥å»¶è¿Ÿ
- [ ] å¤šè®¾å¤‡è®¢é˜…çŠ¶æ€åŒæ­¥
- [ ] é€€æ¬¾åçš„å¤„ç†

### 6.5 UI/UXæµ‹è¯•

- [ ] æ·±è‰²æ¨¡å¼é€‚é…
- [ ] åŠ¨æ€å­—ä½“æ”¯æŒ
- [ ] ä¸åŒå±å¹•å°ºå¯¸é€‚é…
- [ ] æ— éšœç¢åŠŸèƒ½ï¼ˆVoiceOverï¼‰
- [ ] åŠ¨ç”»æµç•…æ€§

### 6.6 æ€§èƒ½æµ‹è¯•

- [ ] å¯åŠ¨æ—¶åŠ è½½äº§å“ä¿¡æ¯é€Ÿåº¦
- [ ] è´­ä¹°æµç¨‹å“åº”é€Ÿåº¦
- [ ] è®¢é˜…çŠ¶æ€æ£€æŸ¥æ€§èƒ½
- [ ] å†…å­˜å ç”¨

---

## ä¸ƒã€å‘å¸ƒå‡†å¤‡

### 7.1 App Store Connect é…ç½®æ¸…å•

- [ ] åˆ›å»ºè®¢é˜…ç»„ï¼ˆSubscription Groupï¼‰
- [ ] åˆ›å»ºæœˆåº¦è®¢é˜…äº§å“
- [ ] åˆ›å»ºå¹´åº¦è®¢é˜…äº§å“
- [ ] é…ç½®æ‰€æœ‰æœ¬åœ°åŒ–ä¿¡æ¯ï¼ˆä¸­è‹±æ–‡ï¼‰
- [ ] è®¾ç½®è®¢é˜…ä»·æ ¼ï¼ˆæ‰€æœ‰åœ°åŒºï¼‰
- [ ] é…ç½®è®¢é˜…æ¡æ¬¾å’Œéšç§æ”¿ç­– URL
- [ ] ä¸Šä¼ è®¢é˜…æˆªå›¾ï¼ˆå¦‚éœ€è¦ï¼‰
- [ ] è®¾ç½®è®¢é˜…ä¿ƒé”€ä»£ç ï¼ˆå¯é€‰ï¼‰

### 7.2 åº”ç”¨å†…é…ç½®

- [ ] æ·»åŠ è®¢é˜…æ¡æ¬¾å’Œéšç§æ”¿ç­–é¡µé¢
- [ ] é…ç½®è®¢é˜…ç®¡ç†å…¥å£ï¼ˆSettingsï¼‰
- [ ] æ·»åŠ è®¢é˜…çŠ¶æ€æ˜¾ç¤º
- [ ] å®ç°è®¢é˜…åˆ°æœŸæé†’

### 7.3 æ–‡æ¡£å‡†å¤‡

- [ ] æ›´æ–°ç”¨æˆ·åè®®ï¼ˆåŒ…å«è®¢é˜…æ¡æ¬¾ï¼‰
- [ ] æ›´æ–°éšç§æ”¿ç­–ï¼ˆå¦‚æ¶‰åŠï¼‰
- [ ] å‡†å¤‡å®¢æœæ”¯æŒæ–‡æ¡£
- [ ] å‡†å¤‡é€€æ¬¾æ”¿ç­–è¯´æ˜

### 7.4 ç›‘æ§å’Œåˆ†æ

- [ ] é›†æˆè®¢é˜…è½¬åŒ–ç‡è¿½è¸ª
- [ ] è®¾ç½®è®¢é˜…æ”¶å…¥ç›‘æ§
- [ ] é…ç½®é”™è¯¯æ—¥å¿—æ”¶é›†
- [ ] å‡†å¤‡ç”¨æˆ·åé¦ˆæ”¶é›†æœºåˆ¶

---

## å…«ã€åç»­ä¼˜åŒ–æ–¹å‘

### 8.1 åŠŸèƒ½å¢å¼º

- [ ] è®¢é˜…è¯•ç”¨æœŸï¼ˆ7å¤©å…è´¹è¯•ç”¨ï¼‰
- [ ] è®¢é˜…ä¼˜æƒ æ´»åŠ¨ï¼ˆé¦–å¹´æŠ˜æ‰£ï¼‰
- [ ] å®¶åº­å…±äº«æ”¯æŒ
- [ ] è®¢é˜…å‡çº§/é™çº§æµç¨‹

### 8.2 ç”¨æˆ·ä½“éªŒä¼˜åŒ–

- [ ] è®¢é˜…åˆ°æœŸå‰æé†’
- [ ] è®¢é˜…ä»·å€¼å±•ç¤ºä¼˜åŒ–
- [ ] A/B æµ‹è¯•ä¸åŒ Paywall è®¾è®¡
- [ ] ä¸ªæ€§åŒ–æ¨èè®¢é˜…æ—¶æœº

### 8.3 æ•°æ®åˆ†æ

- [ ] è½¬åŒ–ç‡åˆ†æ
- [ ] æµå¤±ç”¨æˆ·åˆ†æ
- [ ] è®¢é˜…æ—¶é•¿åˆ†æ
- [ ] åŠŸèƒ½ä½¿ç”¨æƒ…å†µåˆ†æ

---

## ä¹ã€æ³¨æ„äº‹é¡¹

### 9.1 åˆè§„è¦æ±‚

- âœ… å¿…é¡»æä¾›æ¸…æ™°çš„è®¢é˜…æ¡æ¬¾
- âœ… å¿…é¡»æä¾›å–æ¶ˆè®¢é˜…çš„æ˜ç¡®è¯´æ˜
- âœ… å¿…é¡»æ˜¾ç¤ºè®¢é˜…ä»·æ ¼å’Œå‘¨æœŸ
- âœ… å¿…é¡»æä¾›æ¢å¤è´­ä¹°åŠŸèƒ½
- âœ… å¿…é¡»å¤„ç†è®¢é˜…åˆ°æœŸå’Œé€€æ¬¾æƒ…å†µ

### 9.2 æŠ€æœ¯æ³¨æ„äº‹é¡¹

- âœ… StoreKit 2 éœ€è¦ iOS 15.0+
- âœ… å¿…é¡»åœ¨çœŸæœºä¸Šæµ‹è¯•ï¼ˆæ¨¡æ‹Ÿå™¨ä¸æ”¯æŒï¼‰
- âœ… Sandbox æµ‹è¯•è´¦æˆ·éœ€è¦å•ç‹¬é…ç½®
- âœ… è®¢é˜…çŠ¶æ€éªŒè¯éœ€è¦ç½‘ç»œè¿æ¥
- âœ… è€ƒè™‘ç¦»çº¿åœºæ™¯çš„å¤„ç†

### 9.3 ç”¨æˆ·ä½“éªŒæ³¨æ„äº‹é¡¹

- âœ… ä¸è¦å¼ºåˆ¶ç”¨æˆ·è®¢é˜…ï¼ˆæä¾›æ˜ç¡®çš„å–æ¶ˆé€‰é¡¹ï¼‰
- âœ… æ¸…æ™°è¯´æ˜å…è´¹ç‰ˆå’Œ Pro ç‰ˆçš„åŒºåˆ«
- âœ… é¿å…è¯¯å¯¼æ€§çš„è¥é”€æ–‡æ¡ˆ
- âœ… æä¾›è‰¯å¥½çš„é”™è¯¯æç¤º
- âœ… ç¡®ä¿è´­ä¹°æµç¨‹ç®€å•æµç•…

---

## åã€å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£

- [StoreKit 2 Documentation](https://developer.apple.com/documentation/storekit)
- [In-App Purchase Guide](https://developer.apple.com/in-app-purchase/)
- [Subscription Best Practices](https://developer.apple.com/app-store/subscriptions/)

### è®¾è®¡èµ„æº

- [Human Interface Guidelines - In-App Purchase](https://developer.apple.com/design/human-interface-guidelines/in-app-purchase)
- [App Store Review Guidelines - Subscriptions](https://developer.apple.com/app-store/review/guidelines/#subscriptions)

---

**æœ€åæ›´æ–°**ï¼š2025å¹´12æœˆ  
**ç»´æŠ¤è€…**ï¼šå¼€å‘å›¢é˜Ÿ  
**çŠ¶æ€**ï¼šè§„åˆ’é˜¶æ®µ

