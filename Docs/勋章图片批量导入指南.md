# 勋章图片批量导入指南

本指南说明如何使用脚本批量将勋章图片导入到 `Assets.xcassets` 中。

## 📁 文件夹结构

```
Footprint/
├── BadgeImages/              # 原始图片文件夹（新建）
│   ├── Countries/           # 国家勋章图片
│   │   ├── CN.png
│   │   ├── US.png
│   │   └── ...
│   ├── Provinces/           # 省份勋章图片
│   │   ├── 北京.png
│   │   ├── 上海.png
│   │   └── ...
│   ├── README.md           # 使用说明
│   └── image_name_list.txt # 图片名称列表（自动生成）
└── scripts/
    ├── import_badge_images.sh    # Shell 脚本（推荐）
    ├── import_badge_images.py    # Python 脚本（可选）
    └── generate_badge_list.sh   # 生成图片名称列表
```

## 🚀 快速开始

### 步骤 1: 准备图片文件

1. **创建文件夹**（如果还没有）：
   ```bash
   mkdir -p BadgeImages/Countries
   mkdir -p BadgeImages/Provinces
   ```

2. **放入图片文件**：
   - 国家图片 → `BadgeImages/Countries/`
   - 省份图片 → `BadgeImages/Provinces/`

### 步骤 2: 运行导入脚本

#### 方式一：使用 Shell 脚本（推荐）

```bash
# 导入国家勋章图片
./scripts/import_badge_images.sh country

# 导入省份勋章图片
./scripts/import_badge_images.sh province
```

#### 方式二：使用 Python 脚本

```bash
# 导入国家勋章图片
python3 scripts/import_badge_images.py country

# 导入省份勋章图片
python3 scripts/import_badge_images.py province
```

### 步骤 3: 在 Xcode 中查看

导入完成后，打开 Xcode：
1. 导航到 `Footprint/Assets.xcassets`
2. 你应该能看到：
   - `CountryBadges/` 文件夹（包含所有国家勋章）
   - `ProvinceBadges/` 文件夹（包含所有省份勋章）

## 📝 图片命名规范

### 国家图片命名

**推荐方式 1**：使用 ISO 国家代码
```
CN.png      - 中国
US.png      - 美国
JP.png      - 日本
...
```

**推荐方式 2**：使用完整名称（带前缀）
```
CountryBadge_CN.png
CountryBadge_US.png
...
```

脚本会自动识别并处理前缀。

### 省份图片命名

**推荐方式**：使用省份名称
```
北京.png
上海.png
广东.png
...
```

也可以使用完整名称：
```
ProvinceBadge_北京.png
ProvinceBadge_上海.png
...
```

## 🎯 生成图片名称列表

如果你想查看所有需要的图片名称，可以运行：

```bash
./scripts/generate_badge_list.sh
```

这会生成一个 `BadgeImages/image_name_list.txt` 文件，包含所有需要的图片名称。

## 📋 支持的图片格式

- PNG（推荐）
- JPG / JPEG

脚本会自动识别这些格式。

## ⚙️ 脚本功能

### import_badge_images.sh / .py

- ✅ 自动创建 `Assets.xcassets` 中的文件夹结构
- ✅ 自动生成 `Contents.json` 配置文件
- ✅ 自动处理图片命名（支持多种命名方式）
- ✅ 自动去重（跳过已存在的图片）
- ✅ 详细的进度和统计信息
- ✅ 彩色输出，易于查看

### generate_badge_list.sh

- ✅ 生成完整的图片名称列表
- ✅ 包含所有国家和省份的命名建议

## 🔍 故障排除

### 问题 1: 脚本提示"源文件夹不存在"

**原因**: 文件夹还没有创建

**解决**:
```bash
mkdir -p BadgeImages/Countries
mkdir -p BadgeImages/Provinces
```

### 问题 2: 图片导入后 Xcode 中看不到

**原因**: Xcode 需要刷新资源

**解决**:
1. 在 Xcode 中右键点击 `Assets.xcassets` → "Add Files to..."
2. 或者关闭并重新打开 Xcode 项目
3. 或者清理构建（Product → Clean Build Folder）

### 问题 3: 图片名称不符合预期

**原因**: 命名格式不匹配

**解决**: 
- 检查图片文件名是否符合命名规范
- 脚本会自动处理常见的前缀（如 `CountryBadge_`、`ProvinceBadge_`）
- 如果仍有问题，可以手动重命名图片文件

### 问题 4: 脚本没有执行权限

**解决**:
```bash
chmod +x scripts/import_badge_images.sh
chmod +x scripts/import_badge_images.py
chmod +x scripts/generate_badge_list.sh
```

## 📊 导入统计

脚本运行后会显示：
- ✅ 成功导入的数量
- ⚠️ 跳过（已存在）的数量
- ❌ 错误的数量

## 💡 最佳实践

1. **批量导入**: 可以一次性放入所有图片，然后运行脚本
2. **保留原文件**: 原始图片文件不会被删除，可以随时重新导入
3. **版本控制**: 如果不想提交原始图片到 Git，可以使用 `.gitignore`（已包含）
4. **命名一致性**: 建议使用统一的命名规范（ISO 代码或省份名称）

## 🔄 重新导入

如果需要重新导入图片（例如更新了图片文件）：

1. 删除 `Assets.xcassets` 中对应的 `.imageset` 文件夹
2. 或者直接运行脚本，脚本会跳过已存在的图片
3. 如果想强制覆盖，需要先手动删除对应的 `.imageset` 文件夹

## 📚 相关文件

- `BadgeImages/README.md` - 详细的使用说明
- `BadgeImages/image_name_list.txt` - 图片名称列表（自动生成）
- `scripts/import_badge_images.sh` - Shell 导入脚本
- `scripts/import_badge_images.py` - Python 导入脚本
- `scripts/generate_badge_list.sh` - 生成图片名称列表

## 🎨 图片要求建议

- **尺寸**: 建议 200x200 到 400x400 像素（正方形）
- **格式**: PNG（支持透明背景）或 JPG
- **质量**: 清晰、无压缩痕迹
- **风格**: 统一的设计风格，便于识别

---

**提示**: 如果遇到任何问题，请检查脚本输出的错误信息，或查看 `BadgeImages/README.md` 获取更多帮助。

