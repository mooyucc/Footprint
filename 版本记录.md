# Footprint 版本记录 📝

> 自动生成的版本更新记录

### [Version 2.07] - 2025-11-30
**构建版本**: 1  
**发布日期**: 2025-11-30  
**更新时间**: 自动生成  
**更新类型**: 功能更新

#### 🎯 主要更新
- **新增徽章Tab页面**，支持国家徽章与省份徽章展示，记录旅行足迹成就，支持全屏查看徽章详情
- **徽章系统完善**：实现反向地理编码与徽章自动识别，优化徽章更新机制与数据同步
- **地图交互优化**：禁止地图上POI卡片自动弹出，优化地点标注弹窗功能体验
- **打卡功能增强**：优化打卡按钮样式、图标大小与动画效果，改进打卡卡片展示
- **外观模式管理**：新增主题模式切换功能，支持跟随系统/深色/浅色三种模式
- **多语言扩展**：优化徽章Tab标题等多语言适配
- **数据模型增强**：增加省份信息到地点数据模型，支持更精确的地理位置记录

#### 🔧 技术改进
- **徽章系统架构**：
  - 新增 `BadgeView` 徽章主视图，集成国家与省份徽章展示系统
  - 新增 `BadgeManager` 徽章管理器，实现徽章解锁逻辑、状态管理与更新机制优化
  - 新增 `BadgeDataProvider` 数据提供者，支持徽章图片资源批量导入与元数据管理
  - 新增 `BadgeDetailView` 徽章详情视图，支持全屏显示与3D翻转动画查看地点列表
  - 实现反向地理编码与徽章自动识别功能，根据地点坐标自动匹配对应徽章
- **地图功能优化**：
  - 优化地图POI卡片弹出逻辑，禁止自动弹出，改为用户主动触发
  - 改进地点标注弹窗交互体验，优化显示时机与内容展示
- **打卡功能优化**：
  - 优化 `QuickCheckInView` 打卡按钮样式、图标尺寸与动画效果
  - 改进打卡卡片布局与信息展示，优化卡片名称显示
- **外观与主题**：
  - 新增 `AppearanceManager` 外观模式管理器，统一管理应用颜色模式切换
  - `AppColorScheme` 扩展，新增半透明卡片样式（Glass Card）与浅米色卡片样式（Beige Card）
  - 优化徽章卡片布局和圆角，调整徽章Tab文字样式与多语言适配
- **数据模型**：
  - 扩展 `TravelDestination` 模型，增加省份信息字段，支持更精确的地理位置记录
  - 优化删除地点操作流程，改进数据同步与状态管理
- **其他优化**：
  - `IconButton` 组件优化，完善 Liquid Glass 效果的降级策略与性能缓存
  - `BrandColorManager` 优化，改进颜色持久化机制与视图更新通知
  - 页面背景渐变渲染优化，减少重复计算与内存占用
  - 搜索栏样式标准化，统一搜索界面视觉风格
  - 完善 iOS 18-25 版本的向后兼容策略，确保所有新特性都有降级方案

#### 📱 用户体验
- **徽章系统体验**：
  - 徽章Tab上线：新增独立的徽章页面，展示国家与省份徽章收集进度
  - 徽章支持解锁/未解锁状态展示，已解锁徽章显示对应国家/省份精美图片
  - 徽章详情页支持全屏显示与3D翻转动画，正面查看徽章信息，背面查看相关地点列表
  - 徽章进度统计卡片显示解锁数量与完成百分比，激励用户探索更多目的地
  - 徽章自动识别：根据已记录的地点自动解锁对应国家/省份徽章，无需手动操作
  - 优化徽章卡片布局和圆角，调整文字样式，提升视觉美观度
- **地图交互优化**：
  - 地图POI卡片不再自动弹出，减少干扰，用户可主动点击查看详情
  - 地点标注弹窗功能优化，显示时机更合理，信息展示更清晰
- **打卡功能体验**：
  - 打卡按钮样式优化，图标与按钮大小调整，更符合触控习惯
  - 打卡按钮动画效果优化，交互反馈更流畅自然
  - 打卡卡片信息展示优化，卡片名称显示更清晰
- **外观与个性化**：
  - 设置页面新增主题模式选择器，支持跟随系统、深色、浅色三种模式
  - 外观模式切换即时生效，无需重启应用
  - 品牌色切换时所有相关视图实时更新，视觉过渡更流畅
  - 页面背景渐变效果优化，浅色模式下呈现更温暖优雅的视觉体验
  - 半透明卡片与浅米色卡片样式上线，丰富内容展示层次
- **多语言支持**：
  - 优化徽章Tab标题等多语言适配，确保各语言下显示正确
- **操作体验优化**：
  - 优化删除地点操作流程，操作更便捷，确认机制更完善
  - Liquid Glass 按钮交互反馈优化，触控响应更灵敏
  - 搜索栏样式标准化，视觉风格更统一

---

### [Version 2.05] - 2025-11-24
**构建版本**: 1  
**发布日期**: 2025-11-24  
**更新时间**: 21:53:25  
**更新类型**: 功能更新

#### 🎯 主要更新
- 引入统一的品牌配色系统，支持自定义App强调色与全局渐变背景
- 地图、分享卡片、个人页等核心场景升级为Liquid Glass + 品牌渐变样式
- 设置中心重构，新增「通用」「数据」分栏与更完整的账号管理

#### 🔧 技术改进
- 新增 `AppColorScheme` / `BrandColorManager`，集中管理品牌色、渐变与跨iOS版本降级策略
- 引入 Liquid Glass `IconButton` 组件，并在 `MapView`、Tab栏等位置实现即时刷新与缓存优化
- 分享生成链（`TripImageGenerator`、`StatsImageGenerator`、`YearImageGenerator`）重写，统一底纹、版式与字体系
- `AppleSignInManager`、`SettingsView`、`ContentView` 等文件改造，支持自定义头像、昵称与品牌色同步
- App Icon 与品牌素材更新为最新墨鱼足迹资产，集中维护于 `Assets.xcassets`
- 本地化资源新增日语、韩语并补齐中英法西多语言字段

#### 📱 用户体验
- 设置页拆分为账号、通用和数据面板，提供头像/昵称编辑、导入导出、图片压缩与账号注销
- 地图浮动控件、路线抽屉与快速操作使用Liquid Glass按钮，确保触控尺寸与反馈一致
- 个人主页与Tab栏实时响应品牌色切换，整体视觉更统一
- 分享卡片背景升级为品牌渐变，导出图片品质与适配性提升
- 日语、韩语界面文本上线，国际用户体验更友好

---

### [Version 2.03] - 2025-11-16
**构建版本**: 1  
**发布日期**: 2025-11-16  
**更新时间**: 17:08:55  
**更新类型**: 功能更新

#### 🎯 主要更新
- 品牌资源更新：ImageDaka → ImageMooyu（墨鱼足迹）
- 新增旅程分享版面选择功能
- 支持多种分享版面类型（清单版面、九宫格拼图、扩展网格）
- 优化分享图片生成功能

#### 🔧 技术改进
- 新增 `TripShareLayoutSelectionView` 视图组件
- 实现 `TripShareLayout` 枚举支持多种版面类型
- 扩展 `TripImageGenerator` 支持多种版面生成
- 更新多个视图文件以使用新的品牌资源
- 增强多语言支持，添加分享版面相关本地化字符串
- 优化分享功能交互体验

#### 📱 用户体验
- 旅程分享时可选择不同版面样式
- 清单版面：详细展示旅程信息，包含封面、时间卡片和完整行程路线
- 九宫格拼图：以九宫格形式展示目的地照片，适合视觉化分享
- 扩展网格：支持超过9个地点的网格展示
- 更新品牌标识，统一使用墨鱼足迹形象
- 提升分享功能灵活性和视觉效果

---

### [Version 2.02] - 2025-11-15
**构建版本**: 1  
**发布日期**: 2025-11-15  
**更新时间**: 21:31:05  
**更新类型**: 版本更新

#### 🎯 主要更新
- 版本号更新至2.02
- 优化应用稳定性

#### 🔧 技术改进
- 版本号管理优化
- 项目配置更新

#### 📱 用户体验
- 持续改进用户体验
- 提升应用稳定性

---

### [Version 2.0] - 2025-11-09
**构建版本**: 1  
**发布日期**: 2025-11-09  
**更新时间**: 22:00:00  
**更新类型**: 里程碑更新

#### 🎯 主要更新
- 智能搜索功能全面优化
- 地图功能大幅增强
- 用户体验显著提升
- 多语言支持完善

#### 🔧 技术改进
- 混合搜索策略实现
- 地图聚合逻辑优化
- 搜索算法性能提升
- 界面响应速度优化
- 数据同步机制增强

#### 📱 用户体验
- 搜索体验达到Apple地图级别
- 地图交互更加流畅
- 分类过滤功能智能化
- 编辑功能体验优化
- 多语言切换更便捷

---

### [Version 1.2.0] - 2025-10-27
**构建版本**: 1  
**发布日期**: 2025-10-27  
**更新时间**: 21:45:00  
**更新类型**: 功能更新

#### 🎯 主要更新
- 新增版本自动记录功能
- 创建完整的版本管理系统
- 自动化版本追踪和记录
- 支持Archive时自动记录版本信息

#### 🔧 技术改进
- 集成版本记录脚本系统（version_tracker.sh）
- 快速版本记录脚本（quick_version.sh）
- Xcode构建集成脚本（xcode_build_script.sh）
- 自动化构建流程优化
- 增强项目文档管理
- 支持多种版本记录方式
- 智能版本检测和更新

#### 📱 用户体验
- 更清晰的版本追踪
- 自动化的更新记录
- 简化的版本管理流程
- 一键式版本记录操作
- 交互式编辑界面

---

## 版本历史

### [Version 1.1.0] - 2025-01-27
**构建版本**: 1  
**发布日期**: 2025-01-27  
**更新类型**: 功能更新

#### 🎯 主要更新
- 新增版本自动记录功能
- 优化构建流程自动化
- 改进版本管理机制

#### 🔧 技术改进
- 集成版本记录脚本
- 自动化构建流程
- 增强项目文档管理

#### 📱 用户体验
- 更清晰的版本追踪
- 自动化的更新记录
- 简化的版本管理

---

### [Version 1.0.0] - 2025-10-19
**构建版本**: 1  
**发布日期**: 2025-10-19  
**更新类型**: 初始发布

#### 🎯 主要功能
- 交互式地图展示旅行足迹
- 智能添加目的地功能
- 列表管理和详细信息展示
- 精美分享卡片
- 旅行统计中心

#### 🔧 技术特性
- SwiftUI 现代化界面
- SwiftData 数据持久化
- MapKit 地图集成
- PhotosPicker 照片选择
- 支持深色模式

---

## 版本记录说明

### 记录格式
- **版本号**: 遵循语义化版本控制 (Semantic Versioning)
- **构建版本**: 每次Archive自动递增
- **发布日期**: 自动记录构建日期
- **更新类型**: 功能更新/修复/优化

### 自动记录内容
- 版本号自动从Xcode项目配置读取
- 构建日期自动生成
- 支持手动添加更新说明
- 自动保存到版本记录文件

---

## 使用说明

### 添加新版本记录
1. 在Xcode中Archive项目
2. 运行版本记录脚本
3. 手动添加更新说明
4. 提交到Git仓库

### 脚本命令
```bash
# 手动运行版本记录
./scripts/version_tracker.sh

# 查看版本历史
cat 版本记录.md
```

---

*此文件由版本记录脚本自动生成和维护*
