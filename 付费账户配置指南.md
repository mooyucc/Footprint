# 付费 Apple Developer 账户配置指南

## 🎉 恭喜！现在可以启用完整功能了

既然你已经升级到付费开发者账户，现在可以恢复所有高级功能！

---

## ✅ 步骤 1: 重新配置 Team

### 在 Xcode 中更新 Team 设置：

1. **选择项目 Footprint**（左侧蓝色图标）
2. **选择 Target "Footprint"**
3. **点击 "Signing & Capabilities" 标签**
4. **在 Team 下拉框中，选择你的付费账户**
   - 应该显示类似："Huajun Xu (Individual)" 或 "Huajun Xu (Company)"
   - **不再是 "Personal Team"**

5. **确认 "Automatically manage signing" 已勾选**

---

## ✅ 步骤 2: 重新添加 Capabilities

### 现在应该可以添加高级功能了：

1. **点击 "+ Capability" 按钮**
2. **添加 "Sign in with Apple"**
   - 搜索 "sign" 或 "apple"
   - 双击 "Sign in with Apple" 添加

3. **添加 "iCloud"**
   - 搜索 "icloud"
   - 双击 "iCloud" 添加
   - 在 iCloud 卡片中勾选 ✅ **CloudKit**

---

## ✅ 步骤 3: 验证配置

### 检查是否成功添加：

在 "Signing & Capabilities" 标签页中，应该看到：

```
╔════════════════════════════════╗
║ Signing                        ║
║ Team: Huajun Xu (Individual)   ║
║ Bundle ID: Mooyu.Footprint     ║
╚════════════════════════════════╝

╔════════════════════════════════╗
║ Sign in with Apple             ║
╚════════════════════════════════╝

╔════════════════════════════════╗
║ iCloud                         ║
║ ✅ CloudKit                    ║
╚════════════════════════════════╝
```

---

## ✅ 步骤 4: 重新构建和测试

### Clean Build 并重新运行：

1. **Clean Build Folder：**
   - `Product` > `Clean Build Folder`
   - 或按 `Shift + Command + K`

2. **重新运行：**
   - 点击 ▶️ 按钮
   - 或按 `Command + R`

3. **测试登录功能：**
   - 在 iPhone 16 上打开应用
   - 进入"我的"标签页
   - 点击"登录 Apple ID"或设置按钮
   - 点击 "Sign in with Apple" 按钮

---

## 🎯 预期结果

### 成功标志：
- ✅ 点击按钮后弹出 Apple 登录界面
- ✅ 显示"使用 Apple 登录"
- ✅ 要求 Face ID 验证
- ✅ 验证成功后显示用户信息
- ✅ 显示 "iCloud 已同步" 状态
- ✅ 控制台不再显示 `-7026` 错误

---

## 🔧 如果遇到问题

### 问题 1: 仍然显示 "Personal Team"
**解决：**
- 退出 Xcode
- 重新打开 Xcode
- 重新选择 Team

### 问题 2: 无法添加 Capabilities
**解决：**
- 确保选择了付费 Team
- 等待 Xcode 同步配置（可能需要几分钟）
- 重启 Xcode

### 问题 3: 仍然有错误
**解决：**
- 检查 Bundle ID 是否唯一
- 尝试修改 Bundle ID
- 重新生成 Provisioning Profile

---

## 📱 测试完整流程

### 登录测试：
1. **点击 "Sign in with Apple" 按钮**
2. **完成 Face ID 验证**
3. **选择是否共享邮箱和姓名**
4. **完成登录**

### 数据同步测试：
1. **添加一些旅行数据**
2. **检查是否显示 "iCloud 已同步"**
3. **在其他设备上登录相同 Apple ID**
4. **验证数据是否同步**

---

## 🎉 功能恢复完成

一旦配置成功，你将拥有：

✅ **Apple ID 登录**
- 安全的用户认证
- 跨设备用户状态同步

✅ **iCloud 数据同步**
- 所有旅行数据自动同步
- 多设备无缝访问
- 数据永不丢失

✅ **完整功能**
- 推送通知（如需要）
- App Store 发布
- TestFlight 分发

---

## 📞 需要帮助？

如果在配置过程中遇到任何问题，请告诉我：

1. **Team 选择是否正确？**
2. **能否添加 Capabilities？**
3. **测试时有什么错误？**
4. **控制台显示什么信息？**

我会根据具体情况提供进一步的指导！

---

**现在就去 Xcode 中重新配置 Team 和 Capabilities 吧！** 🚀
